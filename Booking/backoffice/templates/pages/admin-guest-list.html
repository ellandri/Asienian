{% extends 'admin.html' %}

{% load static i18n %}

{% block page_content %}

<!-- Page main content START -->
<div class="page-content-wrapper p-xxl-4">

	<!-- Title -->
	<div class="row">
		<div class="col-12 mb-4 mb-sm-5">
			<div class="d-sm-flex justify-content-between align-items-center">
				<h1 class="h3 mb-3 mb-sm-0">Liste client </h1>
				<div class="d-grid"><a href="#" class="btn btn-primary mb-0"><i
							class="bi bi-filetype-pdf me-2"></i>Generate Report</a> </div>
			</div>
		</div>
	</div>

	<!-- Filters START -->
	<div class="row g-4 align-items-center">
		<!-- Tabs -->
<!--		<div class="col-lg-6">-->
<!--			<ul class="nav nav-pills-shadow nav-responsive">-->
<!--				<li class="nav-item">-->
<!--					<a class="nav-link mb-0 active" data-bs-toggle="tab" href="#tab-1">Clients</a>-->
<!--				</li>-->
<!--				<li class="nav-item">-->
<!--					<a class="nav-link mb-0" data-bs-toggle="tab" href="#tab-2">Résvation</a>-->
<!--				</li>-->
<!--				<li class="nav-item">-->
<!--					<a class="nav-link mb-0" data-bs-toggle="tab" href="#tab-3">Supprimer</a>-->
<!--				</li>-->

<!--			</ul>-->
<!--		</div>-->

		<!-- Search -->
		<div class="col-md-6 col-lg-3">
			<form class="rounded position-relative">
				<input class="form-control bg-transparent" type="search" placeholder="Search" aria-label="Search">
				<button
					class="bg-transparent p-2 position-absolute top-50 end-0 translate-middle-y border-0 text-primary-hover text-reset"
					type="submit">
					<i class="fas fa-search fs-6"></i>
				</button>
			</form>
		</div>

		<!-- Select -->
		<div class="col-md-6 col-lg-3">
			<form>
				<select class="form-select js-choice" aria-label=".form-select-sm">
					<option value="">Sort by hotels</option>
					<option>Pride moon Village Resort & Spa</option>
					<option>Courtyard by Marriott New York</option>
					<option>Park Plaza Lodge Hotel</option>
					<option>Royal Beach Resort</option>
				</select>
			</form>
		</div>
	</div>
	<!-- Filters END -->

	<!-- Guest list START -->
	<div class="card shadow mt-5">
		<!-- Card body START -->
		<div class="card-body">
			<!-- Table head -->
      <div class="bg-light rounded p-3 d-none d-lg-block">
        <div class="row row-cols-5 g-3">
          <div class="col d-flex align-items-left" ><h6 class="mb-0 w-100 text-center">Email</h6></div>
          <div class="col d-flex align-items-left" ><h6 class="mb-0 w-100 text-center">Nom d'utilisateur</h6></div>
          <div class="col d-flex align-items-center" ><h6 class="mb-0 w-100 text-center">Date d'inscription</h6></div>
          <div class="col d-flex align-items-center" ><h6 class="mb-0 w-100 text-center">Statut</h6></div>
          <div class="col d-flex align-items-center" ><h6 class="mb-0 w-100 text-center">Action</h6></div>
        </div>
      </div>

			<!-- Table data dynamique -->
			{% for guest in guests %}
			<div class="row row-cols-5 g-2   border-bottom g-4 px-2 py-4   ">

				<div class="col d-flex align-items-center"><h6 class="mb-0 fw-normal">{{ guest.email }}</h6></div>
				<div class="col d-flex align-items-center"><h6 class="mb-0 fw-normal">{{ guest.username }}</h6></div>
				<div class="col d-flex align-items-center"><h6 class="mb-0 fw-normal">{{ guest.date_joined|date:'d/m/Y' }}</h6></div>
				<div class="col d-flex align-items-center">
					{% if guest.is_active %}
						<div class="badge bg-success bg-opacity-10 text-success">Actif</div>
					{% else %}
						<div class="badge bg-danger bg-opacity-10 text-danger">Inactif</div>
					{% endif %}
				</div>
				<div class="col d-flex align-items-center">
            <a href="{% url 'backoffice:admin_agent_detail' guest.id %}" class="btn btn-sm btn-light mb-0">Voir</a>
          </div>
			</div>
			{% empty %}
			<div class="row"><div class="col">Aucun utilisateur trouvé.</div></div>
			{% endfor %}
		</div>
		<!-- Card body END -->

		<!-- Card footer START -->
		<div class="card-footer pt-0">
			<!-- Pagination and content -->
			<div class="d-sm-flex justify-content-sm-between align-items-sm-center">
				<!-- Content -->
				<p class="mb-sm-0 text-center text-sm-start">Showing 1 to 8 of 20 entries</p>
				<!-- Pagination -->
				<nav class="mb-sm-0 d-flex justify-content-center" aria-label="navigation">
					<ul class="pagination pagination-sm pagination-primary-soft mb-0">
						<li class="page-item disabled">
							<a class="page-link" href="#" tabindex="-1">Prev</a>
						</li>
						<li class="page-item"><a class="page-link" href="#">1</a></li>
						<li class="page-item active"><a class="page-link" href="#">2</a></li>
						<li class="page-item disabled"><a class="page-link" href="#">..</a></li>
						<li class="page-item"><a class="page-link" href="#">15</a></li>
						<li class="page-item">
							<a class="page-link" href="#">Next</a>
						</li>
					</ul>
				</nav>
			</div>
		</div>
		<!-- Card footer END -->
	</div>
	<!-- Guest list END -->
</div>

{% endblock page_content %}
